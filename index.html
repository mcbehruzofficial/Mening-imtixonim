<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <title>Dashboard</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}
    body{display:flex;background:#f6f8fb;color:#333;}
    .sidebar{width:220px;background:#fff;min-height:100vh;padding:20px;box-shadow:2px 0 6px rgba(0,0,0,0.05);}
    .sidebar h2{margin-bottom:30px;}
    .sidebar ul{list-style:none;}
    .sidebar li{margin:15px 0;padding:10px;border-radius:8px;cursor:pointer;}
    .sidebar li.active{background:#6c5ce7;color:#fff;}
    .content{flex:1;padding:30px;}
    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;}
    .header h2{font-size:22px;}
    .btn{background:#6c5ce7;color:#fff;padding:10px 16px;border:none;border-radius:8px;cursor:pointer;}
    table{width:100%;border-collapse:collapse;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,0.05);border-radius:12px;overflow:hidden;}
    th,td{padding:14px;text-align:left;border-bottom:1px solid #eee;}
    th{background:#f0f0f0;}
    .status{padding:6px 12px;border-radius:20px;font-size:13px;}
    .active{background:#d4f8e8;color:#0c9463;}
    .inactive{background:#ffe3e3;color:#d90429;}
    tr:hover{background:#fafafa;}
    .delete-btn{background:#ff6b6b;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;}
    .edit-btn{background:#ffa502;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;margin-right:5px;}
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center;}
    .modal-box{background:#fff;padding:20px;border-radius:12px;width:350px;box-shadow:0 6px 18px rgba(0,0,0,0.2);}
    .modal-box h3{margin-bottom:15px;}
    .modal-box input,.modal-box select{width:100%;padding:10px;margin:6px 0;border:1px solid #ccc;border-radius:8px;}
    .actions{display:flex;justify-content:end;gap:10px;margin-top:12px;}
    .cancel{background:#eee;color:#333;}
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>Dashboard</h2>
    <ul>
      <li>Home</li>
      <li>Products</li>
      <li class="active">Customers</li>
      <li>Reports</li>
      <li>Settings</li>
    </ul>
  </div>

  <div class="content">
    <div class="header">
      <h2>All Customers</h2>
      <button class="btn" onclick="openModal()">Add</button>
    </div>

    <table id="table">
      <thead>
        <tr>
          <th>Name</th><th>Company</th><th>Phone</th><th>Email</th><th>Country</th><th>Status</th><th>Action</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>

  <div class="modal" id="modal">
    <div class="modal-box">
      <h3 id="modalTitle">Yangi foydalanuvchi qo‘shish</h3>
      <input id="name" placeholder="Ism va Familiya">
      <input id="company" placeholder="Company">
      <input id="phone" placeholder="Phone">
      <input id="email" placeholder="Email">
      <input id="country" placeholder="Country">
      <select id="status">
        <option value="active">Active</option>
        <option value="inactive">Inactive</option>
      </select>
      <div class="actions">
        <button class="cancel" onclick="closeModal()">Bekor</button>
        <button class="btn" id="saveBtn" onclick="addUser()">Qo‘shish</button>
      </div>
    </div>
  </div>

<script>
let editRowElement = null;

function openModal(edit=false){
  document.getElementById("modal").style.display="flex";
  if(!edit){
    document.getElementById("modalTitle").innerText="Yangi foydalanuvchi qo‘shish";
    document.getElementById("saveBtn").innerText="Qo‘shish";
    document.getElementById("saveBtn").onclick=addUser;
    document.querySelectorAll(".modal-box input").forEach(i=>i.value="");
    document.getElementById("status").value="active";
  }
}
function closeModal(){document.getElementById("modal").style.display="none";}

function addUser(){
  let name=document.getElementById("name").value;
  let company=document.getElementById("company").value;
  let phone=document.getElementById("phone").value;
  let email=document.getElementById("email").value;
  let country=document.getElementById("country").value;
  let status=document.getElementById("status").value;

  if(name && company && phone && email && country){
    let tbody=document.querySelector("#table tbody");
    let tr=document.createElement("tr");
    tr.innerHTML=`<td>${name}</td><td>${company}</td><td>${phone}</td><td>${email}</td><td>${country}</td>
      <td><span class="status ${status}">${status.charAt(0).toUpperCase()+status.slice(1)}</span></td>
      <td>
        <button class="edit-btn" onclick="editRow(this)">Edit</button>
        <button class="delete-btn" onclick="deleteRow(this)">O‘chirish</button>
      </td>`;
    tbody.appendChild(tr);
    closeModal();
  }
}

function deleteRow(btn){
  btn.closest("tr").remove();
}

function editRow(btn){
  editRowElement = btn.closest("tr");
  let tds = editRowElement.querySelectorAll("td");
  document.getElementById("name").value=tds[0].innerText;
  document.getElementById("company").value=tds[1].innerText;
  document.getElementById("phone").value=tds[2].innerText;
  document.getElementById("email").value=tds[3].innerText;
  document.getElementById("country").value=tds[4].innerText;
  let statusText=tds[5].innerText.toLowerCase();
  document.getElementById("status").value=statusText;

  document.getElementById("modalTitle").innerText="Foydalanuvchini tahrirlash";
  document.getElementById("saveBtn").innerText="Yangilash";
  document.getElementById("saveBtn").onclick=updateUser;
  openModal(true);
}

function updateUser(){
  if(editRowElement){
    let tds=editRowElement.querySelectorAll("td");
    tds[0].innerText=document.getElementById("name").value;
    tds[1].innerText=document.getElementById("company").value;
    tds[2].innerText=document.getElementById("phone").value;
    tds[3].innerText=document.getElementById("email").value;
    tds[4].innerText=document.getElementById("country").value;
    let status=document.getElementById("status").value;
    tds[5].innerHTML=`<span class="status ${status}">${status.charAt(0).toUpperCase()+status.slice(1)}</span>`;
    closeModal();
    editRowElement=null;
  }
}
</script>
</body>
</html>
